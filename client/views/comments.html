  <div class="panel panel-default">
    <div class="panel-body">
      <div class="media">
        <div class="media-left">
          <img class="media-object" ng-src={{post.imgURL}}>
        </div>
        <div class="media-body">
          <h3 class="media-heading">{{post.title}}</a> | <a class="glyphicon glyphicon-arrow-up" aria-hidden="true" ng-click="addvote(post)"></a> <a class="glyphicon glyphicon-arrow-down" aria-hidden="true" ng-click="subtractvote(post)"></a> <span ng-class="votes(post)"> {{post.votes}} </span>
      </h3>
          <p>{{post.description}}</p>
          <button type="button" class="btn btn-default" ng-click="showcomments = !showcomments">
        <span class="glyphicon glyphicon-comment" aria-hidden="true"></span>
        <ng-pluralize count="post.comments.length" when="{'0': '0 Comments', '1': '1 Comment', 'other': '{} Comments'}"></ng-pluralize>
      </button>
          <button type="button" class="btn btn-default" ng-click="showCommentForm = !showCommentForm">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Add Comment
      </button>
        </div>
      </div>
    </div>
    <div class="panel-footer">
      <span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>
      <p class="prettyDate" name="date"> {{post.prettyDate}}</p>
      <div class="pull-right">Posted by: {{post.author}}</div>
    </div>
  </div>


<!-- comments -->
<div class="panel panel-default" ng-repeat="comments in post.comments" ng-show="showcomments">
  <div class="panel-body">
    {{comments.content}}
    <p class="pull-right">Posted by: {{comments.author}}</p>
  </div>
</div>

<!-- comment form -->
<form ng-show="showCommentForm" name="newComment" ng-submit="submitComment(post, comment[$index], $index, newComment)">

  <div class="form-group" ng-class="{'has-error' : newComment.author.$invalid && !newComment.author.$pristine,'has-success' : newComment.author.$valid }">
    <label class="control-label" for="author">Author:</label>
    <input type="text" name="author" class="form-control" ng-model="comment[$index].author" ng-minlength="2" ng-maxlength="30" ng-required="true" placeholder="Author">
    <small ng-show="newComment.author.$error.minlength" class="help-block">Author is too short.</small>
    <small ng-show="newComment.author.$error.maxlength" class="help-block">Author is too long.</small>
  </div>
  <div class="form-group" ng-class="{'has-error' : newComment.content.$invalid && !newComment.content.$pristine,'has-success' : newComment.content.$valid }">
    <label class="control-label" for="content">Content:</label>
    <input type="text" name="content" class="form-control" ng-model="comment[$index].content" ng-minlength="2" ng-maxlength="100" ng-required="true" placeholder="Content">
    <small ng-show="newComment.content.$error.minlength" class="help-block">Content is too short.</small>
    <small ng-show="newComment.content.$error.maxlength" class="help-block">Content is too long.</small>
  </div>
  <button type="submit" class="btn btn-default" ng-disabled="newComment.$invalid" ng-click="showcomments=true; showCommentForm=false">Submit</button>
</form>
